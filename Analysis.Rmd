---
title: "Regression Models"
author: "Dan Kjeldstr√∏m Hansen"
date: "30 DEC 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Executive Summary:
In this anaylsis I will answer the question:

Do transmission type (automatic vs. manual) have a positive effect on mpg (mile pr. gallon), and if so, how much?

The short answer to this question, and based on the following, is "yes" - given the provided dataset.
The second half of the question; "how much" is a bit more difficult to answer as several variables can cause this effect, not transmission alone. But given the dataset at hand, we will try to answer this as precise as possible.

Let's begin with a small exploration of the raw data:

## Exploratory Analysis

```{r cars}
ds <- mtcars
head(ds, 10)
str(ds)
```
The complete dataset consist of 32 different car models, with a few different variables measured for each car. (Original dataset can be found in Mosteller & Tukey (1977) along with a very indept analysis of the set and it's value as a predicting model among other things which is out of this small assignments idea)

For a more intuitive view, I'll factorise the am-variable:

```{r}
ds$am <- factor(ds$am,labels=c('Aut.','Man.'))
head(ds,5)
```
As we can see, transmission (am) is now presented as either Automatic or Manual
Let's see how the two type of transmission compares in regards to mpg (all other even, and given the data at hand)

(I've added a red dashed line indicating the mean of mpg (not to be confused with the medians in the boxes) for both Automatic and Manual). Thus it is clearly visible that on average cars with manual transmission have a higher mpg than cars with automatic transmission. (approx. 7 mpg difference)

```{r boxplot am}
plot(ds$am,ds$mpg,col=c('lightgreen','lightblue'),xlab='transmission', ylab='mpg')
abline(h = mean(ds$mpg[ds$am == 'Aut.']),col='red',lty=2)
abline(h = mean(ds$mpg[ds$am == 'Man.']),col='red',lty=2)

```

## Exploratory Analysis

Based on the output, one could easily be led into the conclusion that manual transmission gives you more mpg than automatic transmission. But there seem to be some overlap, so let's see if this difference is also statistical significant.

Let's dig a bit deeper into the data....
Let's fit a linear regression model on the mpg/am set, and do a Student's t-Test as well:

```{r fit am}
fit <- lm(mpg~am,data=ds)
summary(fit)
t.test(mpg~am,ds)
```

We can confirm that cars with automatic transmission has an average mpg value of 17.15 and cars with manual transmission has an average that is 7.25 mpg higher (24.39). Evenso Student's test indicate that there is a significant difference, the p-value is almost zero (0.0013 ~> 0.1%), and the confidence interval tells us that the difference in means should lie between -11.28 and -3.21 (-8.1), hence we can reject the null hypothesis: "no difference if you drive with manual or automatic transmission."

Are we satisfied with the result? Well not quite. With am as the only predictor and only vouching for 33,85% of the variance (adj. R-sqr: 0.3385) it is not a very good model to predict mpg.... so we'll do a multiple variable test





